'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _mongoose=require('mongoose'),_mongoose2=_interopRequireDefault(_mongoose);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var UserSchema=_mongoose2.default.Schema({username:{type:String,required:!0},created:{type:Date,default:Date.now},numseq:{type:Number,default:0}}),UserModel=_mongoose2.default.model('user',UserSchema);UserSchema.pre('save',function(a){var b=this;this.isNew?UserModel.count().then(function(c){b.numseq=0===c?1:c+=1,a()}).catch(function(b){a(b)}):a()}),exports.default=UserModel;