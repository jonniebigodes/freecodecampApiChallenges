'use strict';Object.defineProperty(exports,'__esModule',{value:!0});var _axios=require('axios'),_axios2=_interopRequireDefault(_axios);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}var endpoint='https://www.googleapis.com/customsearch/v1',fetchSingle=function(a){return new Promise(function(b,c){_axios2.default.get(endpoint,{params:{key:a.key,cx:a.cx,q:a.query,searchType:'image',num:a.items,safe:'off'}}).then(function(a){var c=a.data.items.map(function(a){return{titleimage:a.title,urllink:a.link,width:a.image.width,height:a.image.height,thumbnailHeight:a.image.thumbnailHeight,thumbnailWidth:a.image.thumbnailWidth,sizefile:a.image.byteSize}});b({data:c})}).catch(function(a){console.log('===================================='),console.log('search images error=>'+JSON.stringify(a.message,null,2)),console.log('===================================='),c(new Error('error fetching images\n:'+JSON.stringify(a.message,null,2)+' '))})})},searchImages=function(a){return new Promise(function(b,c){fetchSingle(a).then(function(a){b({searchresults:a.data})}).catch(function(a){c(new Error('Error searching images:\n'+JSON.stringify(a,null,2)))})})};exports.default=searchImages;
